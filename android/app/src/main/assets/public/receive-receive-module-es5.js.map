{"version":3,"sources":["webpack:///src/app/receive/receive.page.html","webpack:///src/app/receive/receive-routing.module.ts","webpack:///src/app/receive/receive.module.ts","webpack:///src/app/receive/receive.page.scss","webpack:///src/app/receive/receive.page.ts"],"names":["routes","path","component","ReceivePageRoutingModule","imports","forChild","exports","ReceivePageModule","declarations","ReceivePage","route","walletsService","screenshot","toastCtrl","selectedType","selectedTax","user","businessName","address","ABN","email","state","qrCode","src","recipientName","message","params","subscribe","receiveWallet","getWallet","infoQR","size","text","fill","quiet","ratio","JSON","stringify","data","walletAddress","toString","amountAud","amountCrypto","name","msg","userInfo","console","log","_encodeQrCode","updateQR","e","enteredAmount","target","value","detail","self","setTimeout","save","then","res","screen","filePath","reset","URI","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,wBAAwB;AAAA;AAAA,O;;AAAxBA,8BAAwB,6DAJpC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIoC,GAAxBH,wBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCFAI,iBAAiB;AAAA;AAAA,O;;AAAjBA,uBAAiB,6DAJ7B,+DAAS;AACRH,eAAO,EAAE,CAAC,4DAAD,EAAe,0DAAf,EAA4B,kEAA5B,EAAiD,0DAAjD,EAA8D,gFAA9D,CADD;AAERI,oBAAY,EAAE,CAAC,yDAAD;AAFN,OAAT,CAI6B,GAAjBD,iBAAiB,CAAjB;;;;;;;;;;;;;;;;ACdb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCeFE,WAAW;AA0BtB,6BACUC,KADV,EAEUC,cAFV,EAGUC,UAHV,EAIUC,SAJV,EAIoC;AAAA;;AAH1B,eAAAH,KAAA,GAAAA,KAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,UAAA,GAAAA,UAAA;AACA,eAAAC,SAAA,GAAAA,SAAA,CAA0B,CAzBpC;;AACA,eAAAC,YAAA,GAAe,KAAf;AAEA,eAAAC,WAAA,GAAsB,EAAtB,CAsBoC,CAfpC;;AACA,eAAAC,IAAA,GAAO;AACLC,wBAAY,EAAE,eADT;AAELC,mBAAO,EAAE,4DAFJ;AAGLC,eAAG,EAAE,YAHA;AAILC,iBAAK,EAAE;AAJF,WAAP;AAQA,eAAAC,KAAA,GAAiB,KAAjB;AAQE,eAAKC,MAAL,GAAc;AAAEC,eAAG,EAAE;AAAP,WAAd;AACA,eAAKC,aAAL,GAAqB,EAArB;AACA,eAAKC,OAAL,GAAe,EAAf;AACD;;AAnCqB;AAAA;AAAA,qCAqCX;AAAA;;AACT,iBAAKf,KAAL,CAAWgB,MAAX,CAAkBC,SAAlB,CAA4B,UAACD,MAAD,EAAY;AACtC,mBAAI,CAACE,aAAL,GAAqB,KAAI,CAACjB,cAAL,CAAoBkB,SAApB,CAA8BH,MAAM,CAAC,UAAD,CAApC,CAArB;AACD,aAFD;AAGD;AAzCqB;AAAA;AAAA,wCA2CAI,MA3CA,EA2CQ;AAC5B,iBAAKR,MAAL,GAAc,iCAAI,CAAC;AACjBS,kBAAI,EAAE,GADW;AAEjBC,kBAAI,EAAEF,MAFW;AAGjBG,kBAAI,EAAE,MAHW;AAIjBC,mBAAK,EAAE,CAJU;AAKjBC,mBAAK,EAAE;AALU,aAAD,CAAlB;AAOD;AAnDqB;AAAA;AAAA,qCAqDX;AACT,gBAAI,CAAC,KAAKP,aAAV,EAAyB;AACvB;AACD;;AAED,gBAAIE,MAAM,GAAGM,IAAI,CAACC,SAAL,CAAe;AAC1BC,kBAAI,EAAE;AACJpB,uBAAO,EAAE,KAAKU,aAAL,CAAmBW,aAAnB,CAAiCC,QAAjC,EADL;AAEJC,yBAAS,EAAE,KAAKA,SAFZ;AAGJC,4BAAY,EAAE,KAAKA,YAHf;AAIJ3B,2BAAW,EAAE,KAAKA,WAJd;AAKJ4B,oBAAI,EAAE,KAAKnB,aALP;AAMJoB,mBAAG,EAAE,KAAKnB,OANN;AAOJoB,wBAAQ,EAAE,KAAK7B;AAPX;AADoB,aAAf,CAAb;AAYA8B,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBjB,MAAvB;;AAEA,iBAAKkB,aAAL,CAAmBlB,MAAnB;AACD;AAzEqB;AAAA;AAAA,6CA2EH;AACjB,iBAAKmB,QAAL;AACD;AA7EqB;AAAA;AAAA,wCA+ERC,CA/EQ,EA+EA;AACpB,iBAAKC,aAAL,GAAqBD,CAAC,CAACE,MAAF,CAASC,KAA9B;;AAEA,gBAAI,KAAKvC,YAAL,KAAsB,KAA1B,EAAiC;AAC/B,mBAAK2B,SAAL,GAAiB,KAAKU,aAAtB;AACA,mBAAKT,YAAL,GAAoB,KAAKS,aAAL,GAAqB,IAAzC,CAF+B,CAEgB;AAChD,aAHD,MAGO;AACL,mBAAKT,YAAL,GAAoB,KAAKS,aAAzB;AACA,mBAAKV,SAAL,GAAiB,KAAKU,aAAL,GAAqB,IAAtC;AACD;;AACD,iBAAKF,QAAL;AACD;AA1FqB;AAAA;AAAA,uCA4FTC,CA5FS,EA4FD;AACnBJ,mBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BG,CAA5B;AACA,iBAAKpC,YAAL,GAAoBoC,CAAC,CAACI,MAAF,CAASD,KAA7B;AACAP,mBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAKjC,YAAjC;AACD;AAhGqB;AAAA;AAAA,sCAkGVoC,CAlGU,EAkGF;AAClB,iBAAKnC,WAAL,GAAmBmC,CAAC,CAACI,MAAF,CAASD,KAA5B;AACA,iBAAKJ,QAAL;AACD;AArGqB;AAAA;AAAA,kCAuGd;AACN,gBAAIM,IAAI,GAAG,IAAX;AACAC,sBAAU,CAAC,YAAY;AACrBD,kBAAI,CAAClC,KAAL,GAAa,KAAb;AACD,aAFS,EAEP,IAFO,CAAV;AAGD;AA5GqB;AAAA;AAAA,uCA8GT;AAAA;;AACX,iBAAKT,UAAL,CAAgB6C,IAAhB,CAAqB,KAArB,EAA4B,EAA5B,EAAgC,kBAAhC,EAAoDC,IAApD,CAAyD,UAACC,GAAD,EAAS;AAChE,oBAAI,CAACC,MAAL,GAAcD,GAAG,CAACE,QAAlB;AACA,oBAAI,CAACxC,KAAL,GAAa,IAAb;;AACA,oBAAI,CAACyC,KAAL;AACD,aAJD;AAKD;AApHqB;AAAA;AAAA,0CAsHN;AAAA;;AACd,iBAAKlD,UAAL,CAAgBmD,GAAhB,CAAoB,EAApB,EAAwBL,IAAxB,CAA6B,UAACC,GAAD,EAAS;AACpC,oBAAI,CAACC,MAAL,GAAcD,GAAG,CAACI,GAAlB;AACA,oBAAI,CAAC1C,KAAL,GAAa,IAAb;;AACA,oBAAI,CAACyC,KAAL;AACD,aAJD;AAKD;AA5HqB;;AAAA;AAAA,S;;;;gBAdf;;gBAOA;;gBANA;;gBACiB;;;;AAYbrD,iBAAW,6DALvB,gEAAU;AACTuD,gBAAQ,EAAE,aADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,gGAFS;;;;AAAA,OAAV,CAKuB,GAAXxD,WAAW,CAAX","file":"receive-receive-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons>\\n      <ion-back-button defaultHref=\\\"/tabnav/wallets\\\" text=\\\"\\\"> </ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Receive</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen=\\\"true\\\">\\n  <img [src]=\\\"screen\\\" *ngIf=\\\"state\\\" />\\n\\n  <ion-card class=\\\"ion-text-center\\\">\\n    <ion-card-header>\\n      <div class=\\\"img-name-div\\\">\\n        <ion-img\\n          [src]=\\\"receiveWallet.walletType === 'BTC' ? 'assets/img/bitcoin.png' : receiveWallet.walletType === 'NEM' ?\\n            'assets/img/nem-icon.png' : 'assets/img/ethereum.png'\\\"\\n        >\\n        </ion-img>\\n        <ion-card-title>{{ receiveWallet.walletName }}</ion-card-title>\\n      </div>\\n\\n      <p class=\\\"address\\\">{{receiveWallet.walletAddress}}</p>\\n    </ion-card-header>\\n\\n    <ion-card-content>\\n      <h5>Scan QR code</h5>\\n      <div class=\\\"qr-div\\\"><img [src]=\\\"qrCode.src\\\" /></div>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <form #f=\\\"ngForm\\\" (ngSubmit)=\\\"onShare(f)\\\">\\n    <ion-row class=\\\"ion-align-items-center\\\">\\n      <ion-col>\\n        <ion-label class=\\\"title\\\"> Amount</ion-label>\\n      </ion-col>\\n\\n      <ion-col class=\\\"ion-text-end\\\">\\n        <ion-note class=\\\"amount\\\">\\n          {{selectedType === 'AUD' ? amountCrypto : amountAud}} {{selectedType === 'AUD' ? receiveWallet.walletType :\\n          'AUD'}}\\n        </ion-note>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-item lines=\\\"none\\\" class=\\\"input-shadow\\\">\\n      <ion-input\\n        (ionChange)=\\\"onEnterAmount($event)\\\"\\n        type=\\\"number\\\"\\n        [(ngModel)]=\\\"enteredAmount\\\"\\n        placeholder=\\\"00.00\\\"\\n        name=\\\"amount\\\"\\n        required\\n        max=\\\"maxAmount\\\"\\n      ></ion-input>\\n\\n      <ion-select interface=\\\"popover\\\" [ngModel]=\\\"selectedType\\\" name=\\\"amountType\\\" (ionChange)=\\\"onSelectType($event)\\\">\\n        <ion-select-option value=\\\"AUD\\\"> AUD</ion-select-option>\\n        <ion-select-option [value]=\\\"receiveWallet.walletType\\\">{{receiveWallet.walletType}} </ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n\\n    <ion-row class=\\\"ion-align-items-center tax-row\\\">\\n      <ion-col class=\\\"ion-no-padding ion-no-margin\\\">\\n        <ion-label class=\\\"title\\\">Tax</ion-label>\\n      </ion-col>\\n      <ion-col class=\\\"ion-no-padding ion-no-margin\\\">\\n        <ion-item lines=\\\"none\\\" class=\\\"input-shadow ion-no-margin\\\">\\n          <ion-input\\n            [ngModel]=\\\"selectedTax\\\"\\n            type=\\\"number\\\"\\n            name=\\\"selectedTax\\\"\\n            placeholder=\\\"%\\\"\\n            (ionChange)=\\\"onSelectTax($event)\\\"\\n            required\\n          ></ion-input>\\n          <ion-text> %</ion-text>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n\\n    <h5 class=\\\"title\\\">Receiver</h5>\\n    <ion-item lines=\\\"none\\\" class=\\\"input-shadow\\\">\\n      <ion-input\\n        [(ngModel)]=\\\"recipientName\\\"\\n        name=\\\"recipientName\\\"\\n        (ionChange)=\\\"updateQR()\\\"\\n        placeholder=\\\"Reveiver (Business) Name\\\"\\n      ></ion-input>\\n    </ion-item>\\n\\n    <h5 class=\\\"title\\\">Invoice description</h5>\\n    <ion-item lines=\\\"none\\\" class=\\\"input-shadow\\\">\\n      <ion-input\\n        type=\\\"text\\\"\\n        [(ngModel)]=\\\"message\\\"\\n        name=\\\"message\\\"\\n        (ionChange)=\\\"updateQR()\\\"\\n        placeholder=\\\"e.g. Rent & bills\\\"\\n      ></ion-input>\\n    </ion-item>\\n\\n    <ion-row class=\\\"ion-align-items-center\\\">\\n      <ion-col>\\n        <h5 class=\\\"title\\\">Issuer</h5>\\n      </ion-col>\\n\\n      <ion-col class=\\\"ion-text-end\\\">\\n        <ion-button fill=\\\"clear\\\"> Edit </ion-button>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <ion-col class=\\\"user-info\\\">\\n        <p class=\\\"business-name\\\">{{user.businessName}}</p>\\n        <p class=\\\"ion-text-wrap\\\">{{user.address}}</p>\\n        <p><b>ABN</b>: {{user.ABN}}</p>\\n        <p><b>Email</b>: {{user.email}}</p>\\n      </ion-col>\\n    </ion-row>\\n\\n    <div class=\\\"share-btn\\\">\\n      <ion-button class=\\\"btn-gradient-bg\\\" expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"f.invalid\\\">Share</ion-button>\\n    </div>\\n  </form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReceivePage } from './receive.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReceivePage\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReceivePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReceivePageRoutingModule } from './receive-routing.module';\n\nimport { ReceivePage } from './receive.page';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule, ReceivePageRoutingModule],\n  declarations: [ReceivePage],\n})\nexport class ReceivePageModule {}\n","export default \"ion-card {\\n  box-shadow: 0px 3px 6px #00000029;\\n  --background: #f7f7f7;\\n  border-radius: 0px 0px 30px 30px;\\n  margin: 0 0 30px 0;\\n}\\nion-card ion-card-header {\\n  border-bottom: 0.5px solid #cccbcd;\\n}\\nion-card ion-card-header .img-name-div {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\nion-card ion-card-header .img-name-div ion-img {\\n  width: 25px;\\n  margin-right: 10px;\\n}\\nion-card ion-card-header .img-name-div ion-card-title {\\n  font-size: 16px;\\n}\\nion-card ion-card-header .address {\\n  color: #757575;\\n  font-size: 9px;\\n}\\nion-card ion-card-content {\\n  padding: 20px;\\n}\\nion-card ion-card-content h5 {\\n  font-size: 16px;\\n  color: #000000;\\n  font-weight: bold;\\n}\\nion-card ion-card-content .qr-div {\\n  padding: 10px 60px;\\n}\\nform {\\n  padding: 0 20px;\\n}\\nion-row,\\nion-col {\\n  padding: 0;\\n  margin: 0;\\n}\\n.tax-row {\\n  margin-top: 16px;\\n}\\n.title {\\n  font-size: 16px;\\n  font-weight: bold;\\n}\\n.amount {\\n  color: #707070;\\n  font-size: 14px;\\n}\\n.user-info {\\n  color: #707070;\\n  font-size: 14px;\\n}\\n.user-info .business-name {\\n  color: #000000;\\n}\\n.user-info p {\\n  margin: 0;\\n}\\n.input-shadow {\\n  box-shadow: 0 3px 6px #00000029;\\n  border-radius: 8px;\\n  margin: 5px 0;\\n}\\n.share-btn {\\n  margin: 10px 0;\\n}\\nion-select.in-item {\\n  max-width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVjZWl2ZS9yZWNlaXZlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlDQUFBO0VBQ0EscUJBQUE7RUFDQSxnQ0FBQTtFQUNBLGtCQUFBO0FBQ0Y7QUFDRTtFQUNFLGtDQUFBO0FBQ0o7QUFDSTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQ047QUFDTTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtBQUNSO0FBRU07RUFDRSxlQUFBO0FBQVI7QUFJSTtFQUNFLGNBQUE7RUFDQSxjQUFBO0FBRk47QUFNRTtFQUNFLGFBQUE7QUFKSjtBQUtJO0VBQ0UsZUFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtBQUhOO0FBTUk7RUFDRSxrQkFBQTtBQUpOO0FBVUE7RUFDRSxlQUFBO0FBUEY7QUFVQTs7RUFFRSxVQUFBO0VBQ0EsU0FBQTtBQVBGO0FBVUE7RUFDRSxnQkFBQTtBQVBGO0FBVUE7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFQRjtBQVVBO0VBQ0UsY0FBQTtFQUNBLGVBQUE7QUFQRjtBQVVBO0VBQ0UsY0FBQTtFQUNBLGVBQUE7QUFQRjtBQVNFO0VBQ0UsY0FBQTtBQVBKO0FBVUU7RUFDRSxTQUFBO0FBUko7QUFZQTtFQUNFLCtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0FBVEY7QUFZQTtFQUNFLGNBQUE7QUFURjtBQVlBO0VBQ0UsZUFBQTtBQVRGIiwiZmlsZSI6InNyYy9hcHAvcmVjZWl2ZS9yZWNlaXZlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jYXJkIHtcbiAgYm94LXNoYWRvdzogMHB4IDNweCA2cHggIzAwMDAwMDI5O1xuICAtLWJhY2tncm91bmQ6ICNmN2Y3Zjc7XG4gIGJvcmRlci1yYWRpdXM6IDBweCAwcHggMzBweCAzMHB4O1xuICBtYXJnaW46IDAgMCAzMHB4IDA7XG5cbiAgaW9uLWNhcmQtaGVhZGVyIHtcbiAgICBib3JkZXItYm90dG9tOiAwLjVweCBzb2xpZCAjY2NjYmNkO1xuXG4gICAgLmltZy1uYW1lLWRpdiB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXG4gICAgICBpb24taW1nIHtcbiAgICAgICAgd2lkdGg6IDI1cHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgIH1cblxuICAgICAgaW9uLWNhcmQtdGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmFkZHJlc3Mge1xuICAgICAgY29sb3I6ICM3NTc1NzU7XG4gICAgICBmb250LXNpemU6IDlweDtcbiAgICB9XG4gIH1cblxuICBpb24tY2FyZC1jb250ZW50IHtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGg1IHtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLnFyLWRpdiB7XG4gICAgICBwYWRkaW5nOiAxMHB4IDYwcHg7XG4gICAgfVxuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0gZm9ybTpcbmZvcm0ge1xuICBwYWRkaW5nOiAwIDIwcHg7XG59XG5cbmlvbi1yb3csXG5pb24tY29sIHtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAwO1xufVxuXG4udGF4LXJvdyB7XG4gIG1hcmdpbi10b3A6IDE2cHg7XG59XG5cbi50aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5hbW91bnQge1xuICBjb2xvcjogIzcwNzA3MDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4udXNlci1pbmZvIHtcbiAgY29sb3I6ICM3MDcwNzA7XG4gIGZvbnQtc2l6ZTogMTRweDtcblxuICAuYnVzaW5lc3MtbmFtZSB7XG4gICAgY29sb3I6ICMwMDAwMDA7XG4gIH1cblxuICBwIHtcbiAgICBtYXJnaW46IDA7XG4gIH1cbn1cblxuLmlucHV0LXNoYWRvdyB7XG4gIGJveC1zaGFkb3c6IDAgM3B4IDZweCAjMDAwMDAwMjk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgbWFyZ2luOiA1cHggMDtcbn1cblxuLnNoYXJlLWJ0biB7XG4gIG1hcmdpbjogMTBweCAwO1xufVxuXG5pb24tc2VsZWN0LmluLWl0ZW0ge1xuICBtYXgtd2lkdGg6IDEwMCU7XG59XG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Screenshot } from '@ionic-native/screenshot/ngx';\nimport { AlertController, ToastController } from '@ionic/angular';\n\nimport * as kjua from 'kjua';\n\nimport { Wallet } from '../services/models/wallet.model';\nimport { WalletsService } from '../services/wallets/wallets.service';\n\n@Component({\n  selector: 'app-receive',\n  templateUrl: './receive.page.html',\n  styleUrls: ['./receive.page.scss'],\n})\nexport class ReceivePage implements OnInit {\n  receiveWallet: Wallet;\n  maxAmount: number;\n  qrCode: any;\n\n  // --- user input values:\n  selectedType = 'AUD';\n  enteredAmount: number;\n  selectedTax: number = 10;\n  recipientName: string;\n  message: string;\n\n  amountCrypto: number;\n  amountAud: number;\n\n  // dummy user's invoic info:\n  user = {\n    businessName: 'AEM Algorithm',\n    address: '2208/ 5 Sutherland Street, Melbourne VIC 3000 03 0987 9872',\n    ABN: '0939399923',\n    email: 'test@email.com',\n  };\n\n  screen: any;\n  state: boolean = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private walletsService: WalletsService,\n    private screenshot: Screenshot,\n    private toastCtrl: ToastController\n  ) {\n    this.qrCode = { src: '' };\n    this.recipientName = '';\n    this.message = '';\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe((params) => {\n      this.receiveWallet = this.walletsService.getWallet(params['walletId']);\n    });\n  }\n\n  private _encodeQrCode(infoQR) {\n    this.qrCode = kjua({\n      size: 256,\n      text: infoQR,\n      fill: '#000',\n      quiet: 0,\n      ratio: 2,\n    });\n  }\n\n  updateQR() {\n    if (!this.receiveWallet) {\n      return;\n    }\n\n    let infoQR = JSON.stringify({\n      data: {\n        address: this.receiveWallet.walletAddress.toString(),\n        amountAud: this.amountAud,\n        amountCrypto: this.amountCrypto,\n        selectedTax: this.selectedTax, // default tax is set to 10%\n        name: this.recipientName,\n        msg: this.message,\n        userInfo: this.user,\n      },\n    });\n\n    console.log('update:', infoQR);\n\n    this._encodeQrCode(infoQR);\n  }\n\n  ionViewWillEnter() {\n    this.updateQR();\n  }\n\n  onEnterAmount(e: any) {\n    this.enteredAmount = e.target.value;\n\n    if (this.selectedType === 'AUD') {\n      this.amountAud = this.enteredAmount;\n      this.amountCrypto = this.enteredAmount / 5000; // mock the calculation\n    } else {\n      this.amountCrypto = this.enteredAmount;\n      this.amountAud = this.enteredAmount * 5000;\n    }\n    this.updateQR();\n  }\n\n  onSelectType(e: any) {\n    console.log('type select:', e);\n    this.selectedType = e.detail.value;\n    console.log('type select:', this.selectedType);\n  }\n\n  onSelectTax(e: any) {\n    this.selectedTax = e.detail.value;\n    this.updateQR();\n  }\n\n  reset() {\n    var self = this;\n    setTimeout(function () {\n      self.state = false;\n    }, 1000);\n  }\n\n  screenShot() {\n    this.screenshot.save('jpg', 80, 'myscreenshot.jpg').then((res) => {\n      this.screen = res.filePath;\n      this.state = true;\n      this.reset();\n    });\n  }\n\n  screenShotURI() {\n    this.screenshot.URI(80).then((res) => {\n      this.screen = res.URI;\n      this.state = true;\n      this.reset();\n    });\n  }\n  // onShare(f) {\n  // console.log(f.value);\n  // console.log(f.valid);\n  // this.updateQR();\n  // this.screenshot.save().then(() => {\n  //   this.toastCtrl.create({\n  //     message: 'photo saved on phone',\n  //   });\n  // });\n  // Share.share({});\n  // this.screenshot.save('jpg', 80, 'myscreenshot.jpg').then((res) => {\n  //   console.log(res);\n  // });\n  // this.screenshot.URI(80).then((res) => {\n  //   this.socialSharing.shareViaFacebook(null, res.URI, null).then(() => {\n  //     alert('SocialSharing failed');\n  //   });\n  // });\n  // }\n}\n"]}