{"version":3,"sources":["./src/app/address-book/edit/edit.page.html","./src/app/address-book/edit/edit-routing.module.ts","./src/app/address-book/edit/edit.module.ts","./src/app/address-book/edit/edit.page.scss","./src/app/address-book/edit/edit.page.ts"],"names":[],"mappings":"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","file":"edit-edit-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button [defaultHref]=\\\"'/tabnav/address-book/' + addresses.id\\\" text=\\\"\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"onSave()\\\"> Save </ion-button>\\n    </ion-buttons>\\n    <ion-title>Edit Address</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"avatar-div\\\">\\n    <ion-avatar>\\n      <img src=\\\"assets/img/contact.png\\\" />\\n    </ion-avatar>\\n  </div>\\n\\n  <form [formGroup]=\\\"editForm\\\" (ngSubmit)=\\\"onSave()\\\">\\n    <div class=\\\"personal-info-div\\\">\\n      <h5 class=\\\"title\\\">Name</h5>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-input formControlName=\\\"name\\\"></ion-input>\\n      </ion-item>\\n\\n      <h5 class=\\\"title\\\">Email</h5>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-input formControlName=\\\"email\\\"></ion-input>\\n      </ion-item>\\n\\n      <h5 class=\\\"title\\\">ABN</h5>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-input formControlName=\\\"ABNNum\\\"></ion-input>\\n      </ion-item>\\n\\n      <h5 class=\\\"title\\\">Company Name</h5>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-input formControlName=\\\"companyName\\\"></ion-input>\\n      </ion-item>\\n\\n      <h5 class=\\\"title\\\">Company Address</h5>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-textarea formControlName=\\\"companyAddress\\\"></ion-textarea>\\n      </ion-item>\\n    </div>\\n\\n    <div class=\\\"addresses-info-div\\\">\\n      <div formArrayName=\\\"walletsAddresses\\\" class=\\\"addresses-info\\\">\\n        <!-- loop throught this contact's addresses -->\\n        <div *ngFor=\\\"let addressCrtl of getAddressControls(); let i = index\\\" [formGroupName]=\\\"i\\\" class=\\\"address-info\\\">\\n          <ion-item class=\\\"type-item\\\" lines=\\\"none\\\">\\n            <ion-img\\n              [src]=\\\" addressCrtl.value.type === 'BTC'? 'assets/img/bitcoin.png' : 'assets/img/nem-icon.png'\\\"\\n            ></ion-img>\\n            <ion-text class=\\\"wallet-type\\\">{{addressCrtl.value.type === 'BTC' ? 'BTC' : 'EXM'}}</ion-text>\\n          </ion-item>\\n\\n          <div class=\\\"info-edit-div address-edit\\\">\\n            <h5 class=\\\"title description\\\">Description</h5>\\n            <ion-item lines=\\\"none\\\" class=\\\"info-input\\\">\\n              <ion-input formControlName=\\\"description\\\"> </ion-input>\\n            </ion-item>\\n\\n            <h5 class=\\\"title\\\">Address</h5>\\n            <ion-item lines=\\\"none\\\" class=\\\"info-input\\\">\\n              <ion-input formControlName=\\\"address\\\"></ion-input>\\n            </ion-item>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <ion-button type=\\\"submit\\\" expand=\\\"block\\\" class=\\\"btn-gradient-bg\\\">Save</ion-button>\\n    </div>\\n  </form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditPage } from './edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditPageRoutingModule } from './edit-routing.module';\n\nimport { EditPage } from './edit.page';\n\n@NgModule({\n  imports: [CommonModule, ReactiveFormsModule, IonicModule, EditPageRoutingModule],\n  declarations: [EditPage],\n})\nexport class EditPageModule {}\n","export default \".avatar-div {\\n  display: flex;\\n  justify-content: center;\\n  padding: 20px;\\n}\\n.avatar-div ion-avatar {\\n  width: 100px;\\n  height: 100px;\\n}\\n.title {\\n  font-size: 14px;\\n  color: #074673;\\n  font-weight: bold;\\n}\\n.personal-info-div {\\n  padding: 0 20px 20px 20px;\\n}\\n.personal-info-div ion-item {\\n  box-shadow: 0px 3px 6px #00000029;\\n  border-radius: 8px;\\n  font-size: 14px;\\n}\\n.addresses-info-div {\\n  background: #f7f7f7;\\n  border-radius: 20px 20px 0 0;\\n  padding: 20px;\\n}\\n.addresses-info-div ion-img {\\n  height: 25px;\\n  width: 25px;\\n  padding-right: 5px;\\n}\\n.addresses-info-div .addresses-info .info-input {\\n  --background: #f7f7f7;\\n  --border-radius: 4px;\\n  font-size: 14px;\\n}\\n.addresses-info-div .addresses-info .address-info {\\n  box-shadow: 0px 3px 6px #00000029;\\n  background: #ffffff;\\n  border-radius: 20px 20px 20px 20px;\\n  margin-bottom: 15px;\\n}\\n.addresses-info-div .addresses-info .address-info .type-item {\\n  border-radius: 20px;\\n}\\n.addresses-info-div .addresses-info .address-info .address-edit {\\n  padding: 0 15px 15px 15px;\\n}\\n.addresses-info-div .addresses-info .description {\\n  margin-top: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRkcmVzcy1ib29rL2VkaXQvZWRpdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxhQUFBO0FBQ0Y7QUFBRTtFQUNFLFlBQUE7RUFDQSxhQUFBO0FBRUo7QUFFQTtFQUNFLGVBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7QUFDRjtBQUVBO0VBQ0UseUJBQUE7QUFDRjtBQUFFO0VBQ0UsaUNBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFFSjtBQUVBO0VBQ0UsbUJBQUE7RUFDQSw0QkFBQTtFQUNBLGFBQUE7QUFDRjtBQUNFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQUNKO0FBR0k7RUFDRSxxQkFBQTtFQUNBLG9CQUFBO0VBQ0EsZUFBQTtBQUROO0FBSUk7RUFDRSxpQ0FBQTtFQUNBLG1CQUFBO0VBTUEsa0NBQUE7RUFJQSxtQkFBQTtBQVZOO0FBRU07RUFDRSxtQkFBQTtBQUFSO0FBSU07RUFDRSx5QkFBQTtBQUZSO0FBT0k7RUFDRSxlQUFBO0FBTE4iLCJmaWxlIjoic3JjL2FwcC9hZGRyZXNzLWJvb2svZWRpdC9lZGl0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hdmF0YXItZGl2IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGlvbi1hdmF0YXIge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICB9XG59XG5cbi50aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY29sb3I6ICMwNzQ2NzM7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4ucGVyc29uYWwtaW5mby1kaXYge1xuICBwYWRkaW5nOiAwIDIwcHggMjBweCAyMHB4O1xuICBpb24taXRlbSB7XG4gICAgYm94LXNoYWRvdzogMHB4IDNweCA2cHggIzAwMDAwMDI5O1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cbn1cblxuLmFkZHJlc3Nlcy1pbmZvLWRpdiB7XG4gIGJhY2tncm91bmQ6ICNmN2Y3Zjc7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHggMjBweCAwIDA7XG4gIHBhZGRpbmc6IDIwcHg7XG5cbiAgaW9uLWltZyB7XG4gICAgaGVpZ2h0OiAyNXB4O1xuICAgIHdpZHRoOiAyNXB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcbiAgfVxuXG4gIC5hZGRyZXNzZXMtaW5mbyB7XG4gICAgLmluZm8taW5wdXQge1xuICAgICAgLS1iYWNrZ3JvdW5kOiAjZjdmN2Y3O1xuICAgICAgLS1ib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuXG4gICAgLmFkZHJlc3MtaW5mbyB7XG4gICAgICBib3gtc2hhZG93OiAwcHggM3B4IDZweCAjMDAwMDAwMjk7XG4gICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuXG4gICAgICAudHlwZS1pdGVtIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICAgIH1cblxuICAgICAgYm9yZGVyLXJhZGl1czogMjBweCAyMHB4IDIwcHggMjBweDtcbiAgICAgIC5hZGRyZXNzLWVkaXQge1xuICAgICAgICBwYWRkaW5nOiAwIDE1cHggMTVweCAxNXB4O1xuICAgICAgfVxuICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICB9XG5cbiAgICAuZGVzY3JpcHRpb24ge1xuICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIH1cbiAgfVxufVxuIl19 */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { Subscription } from 'rxjs';\nimport { NavController } from '@ionic/angular';\n\nimport { AddressBookService } from 'src/app/services/address-book/address-book.service';\nimport { Address } from 'src/app/services/models/address.modal';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.page.html',\n  styleUrls: ['./edit.page.scss'],\n})\nexport class EditPage implements OnInit, OnDestroy {\n  editForm: FormGroup;\n  addresses: Address; // this contact info\n  id: string;\n\n  private contactChangedSub: Subscription;\n\n  constructor(\n    private route: ActivatedRoute,\n    private addressBookService: AddressBookService,\n    private navCtrl: NavController\n  ) {}\n\n  ngOnInit() {\n    this.route.params.subscribe((params) => {\n      this.id = params['id'];\n      this.addresses = this.addressBookService.getAddress(this.id);\n    });\n\n    this.contactChangedSub = this.addressBookService.contactChanged.subscribe((newContact: Address) => {\n      this.addresses = newContact;\n    });\n\n    let walletsAddresses = new FormArray([]);\n    //   -------  group the wallets' addresses\n    for (let address of this.addresses.walletsAddresses) {\n      walletsAddresses.push(\n        new FormGroup({\n          type: new FormControl(address.type),\n          address: new FormControl(address.address, [Validators.required]),\n          description: new FormControl(address.description),\n        })\n      );\n    }\n\n    this.editForm = new FormGroup({\n      name: new FormControl(this.addresses.name, {\n        updateOn: 'blur',\n        validators: [Validators.required],\n      }),\n      ABNNum: new FormControl(this.addresses.ABNNum, {\n        updateOn: 'blur',\n        validators: [Validators.required],\n      }),\n      email: new FormControl(this.addresses.email, {\n        updateOn: 'blur',\n        validators: [Validators.required],\n      }),\n\n      companyAddress: new FormControl(this.addresses.companyAddress, {\n        updateOn: 'blur',\n        validators: [Validators.required],\n      }),\n      companyName: new FormControl(this.addresses.companyName, {\n        updateOn: 'blur',\n        validators: [Validators.required],\n      }),\n      walletsAddresses: walletsAddresses,\n    });\n  }\n\n  getAddressControls() {\n    // console.log('get control props:', (<FormArray>this.editForm.get('walletsAddresses')).controls);//value:\n    // value: {\n    //   address: 'zidiNEMaskdjfksladgjklasdfasdfsdf';\n    //   description: 'business';\n    //   type: 'NEM';\n    // }\n    return (<FormArray>this.editForm.get('walletsAddresses')).controls;\n  }\n\n  onSave() {\n    const editAddressData = new Address(\n      this.id,\n      this.editForm.value['name'],\n      this.editForm.value['ABNNum'],\n      this.editForm.value['email'],\n      this.editForm.value['companyAddress'],\n      this.editForm.value['companyName'],\n      this.editForm.value['walletsAddresses']\n    );\n\n    this.addressBookService.updateAddress(this.id, editAddressData);\n\n    this.navCtrl.back();\n  }\n\n  ngOnDestroy() {\n    if (this.contactChangedSub) {\n      this.contactChangedSub.unsubscribe();\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}