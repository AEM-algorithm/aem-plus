<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="'/tabnav/address-book/' + addresses.id" text=""></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="onSave()"> Save </ion-button>
    </ion-buttons>
    <ion-title>Edit Address</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="avatar-div">
    <ion-avatar>
      <img src="assets/img/contact.png" />
    </ion-avatar>
  </div>

  <form [formGroup]="editForm" (ngSubmit)="onSave()">
    <div class="personal-info-div">
      <h5 class="title">Name</h5>
      <ion-item lines="none">
        <ion-input formControlName="name"></ion-input>
      </ion-item>

      <h5 class="title">Email</h5>
      <ion-item lines="none">
        <ion-input formControlName="email"></ion-input>
      </ion-item>

      <h5 class="title">ABN</h5>
      <ion-item lines="none">
        <ion-input formControlName="ABNNum"></ion-input>
      </ion-item>

      <h5 class="title">Company Name</h5>
      <ion-item lines="none">
        <ion-input formControlName="companyName"></ion-input>
      </ion-item>

      <h5 class="title">Company Address</h5>
      <ion-item lines="none">
        <ion-textarea formControlName="companyAddress"></ion-textarea>
      </ion-item>
    </div>

    <div class="addresses-info-div">
      <div formArrayName="walletsAddresses" class="addresses-info">
        <!-- loop throught this contact's addresses -->
        <div *ngFor="let addressCrtl of getAddressControls(); let i = index" [formGroupName]="i" class="address-info">
          <ion-item class="type-item" lines="none">
            <ion-img
              [src]=" addressCrtl.value.type === 'BTC'? 'assets/img/bitcoin.png' : 'assets/img/nem-icon.png'"
            ></ion-img>
            <ion-text class="wallet-type">{{addressCrtl.value.type === 'BTC' ? 'BTC' : 'EXM'}}</ion-text>
            <ion-button slot="end" fill="clear" (click)="onDeleteAddress(addressCrtl.value.address)">
              <ion-icon color="danger" size="small" slot="icon-only" name="trash-outline"></ion-icon>
            </ion-button>
          </ion-item>

          <div class="info-edit-div address-edit">
            <h5 class="title description">Description</h5>
            <ion-item lines="none" class="info-input">
              <ion-input formControlName="description"> </ion-input>
            </ion-item>

            <h5 class="title">Address</h5>
            <ion-item lines="none" class="info-input">
              <ion-input formControlName="address"></ion-input>
            </ion-item>
          </div>
        </div>
      </div>

      <ion-button type="submit" expand="block" class="btn-gradient-bg">Save</ion-button>
      <ion-button type="button" expand="block" class="btn-gradient-bg" (click)="onDeleteContact()"
        >Delete Contact</ion-button
      >
    </div>
  </form>
</ion-content>
