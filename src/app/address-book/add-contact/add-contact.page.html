<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabnav/address-book" text=""></ion-back-button>
    </ion-buttons>
    <ion-title>New Contact</ion-title>
    <ion-buttons slot="end">
      <ion-icon name="qr-code-outline" (click)="onScan()"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [class]="isAddAddress ? 'grey-bg': ''">
  <div class="white-bg">
    <div *ngIf="!isImage" (click)="onSelectImage()" class="add-image-div">
      <img src="assets/img/camera.png" />
      <p style=" color: #074673;">Select image</p>
    </div>
    <div *ngIf="isImage" (click)="onSelectImage()" class="add-image-div">
      <img src="{{imageBase64}}" />
      <p style=" color: #074673;">Select image</p>
    </div>

    <form [formGroup]="addContactForm">
      <h5 class="label">First Name</h5>
      <ion-item lines="none">
        <ion-input formControlName="fname"></ion-input>
      </ion-item>
      <h5 class="label">Last Name</h5>
      <ion-item lines="none">
        <ion-input formControlName="lname"></ion-input>
      </ion-item>

      <h5 class="label">Company</h5>
      <ion-item lines="none">
        <ion-input formControlName="companyName"></ion-input>
      </ion-item>

      <h5 class="label">ABN Number</h5>
      <ion-item lines="none">
        <ion-input formControlName="ABNNum"></ion-input>
      </ion-item>

      <h5 class="label">Phone Number</h5>
      <ion-item lines="none">
        <ion-input formControlName="phone"></ion-input>
      </ion-item>

      <h5 class="label">Email</h5>
      <ion-item lines="none">
        <ion-input formControlName="email"></ion-input>
      </ion-item>

      <h5 class="label">Company Address</h5>
      <ion-item lines="none">
        <ion-textarea formControlName="companyAddress"></ion-textarea>
      </ion-item>
    </form>
  </div>

  <div [class]="isAddAddress ? 'addresses-div add-bg-border': 'addresses-div'">
    <div class="add-btn-div">
      <ion-button fill="clear" class="add-btn ion-text-center btn-gradient-bg-white" (click)="onOpenAddAddressModal()">
        <ion-icon slot="start" name="add-outline"></ion-icon>
        <p style="color: black;font-weight: bold;">
          Add an address
        </p>

      </ion-button>
    </div>

    <!-- show the added addresses div if isAddAddress = true -->
    <div class="addresses" *ngIf="isAddAddress">
      <div class="address" *ngFor="let walletAddress of walletsAddresses">
        <ion-card>
          <ion-item lines="none" class="border-bottom">
            <ion-img [src]="walletIcon[walletAddress.type]"></ion-img>
            <ion-text class="wallet-type">{{ walletAddress.type}} </ion-text>

            <!-- <ion-note>{{walletAddress.description && walletAddress.description}}</ion-note> -->
          </ion-item>
          <div class="add-title">
            Wallet address
          </div>
          <ion-card-content> {{walletAddress.address}} </ion-card-content>
          <div class="add-title">
            Description
          </div>
          <ion-card-content> {{walletAddress.description}} </ion-card-content>
        </ion-card>
      </div>
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-button  type="submit" expand="block" class="save-btn btn-gradient-bg"
    (click)="onSaveNewContact()" [disabled]="addContactForm.invalid">Save</ion-button>
</ion-footer>