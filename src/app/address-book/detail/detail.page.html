<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabnav/address-book" text=""></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button class="edit-btn" [routerLink]="['/tabnav','address-book','edit', address.id]"> Edit </ion-button>
    </ion-buttons>

    <ion-title>Address Book</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="white-bg">
    <!--   ============  Name & img & Company Name      -->
    <div class="contact-name">
      <ion-item lines="none">
        <ion-avatar slot="start">
          <img src="assets/img/contact.png" />
        </ion-avatar>
        <ion-label>
          <h2>{{address.name}}</h2>
          <p>{{address.companyName ? address.companyName : ''}}</p>
        </ion-label>
      </ion-item>
    </div>

    <!--   ============   contact personal info: abn, company address/name, email     -->
    <ion-list lines="none" class="contact-info">
      <ion-item *ngIf="address.ABNNum">
        <img slot="start" src="assets/addressbook/Icon_business.png" />
        <ion-label>{{address.ABNNum}} </ion-label>
      </ion-item>

      <ion-item *ngIf="address.companyAddress">
        <ion-icon slot="start" name="location" size="small"></ion-icon>
        <ion-label> {{address.companyAddress}} </ion-label>
      </ion-item>

      <ion-item *ngIf="address.email">
        <ion-icon slot="start" name="mail" size="small"></ion-icon>
        <ion-label> {{address.email}} </ion-label>
      </ion-item>

      <ion-item class="no-personinfo-ion-item" *ngIf="!address.ABNNum || !address.companyAddress || !address.email">
        <ion-label>Add more details by clicking on edit</ion-label>
      </ion-item>
    </ion-list>
  </div>

  <!--     ============   contact's wallets addresses list =============== -->
  <div class="addresses-div">
    <div class="addbtn-div">
      <ion-button (click)="onOpenAddAddressModal()">
        <ion-icon slot="icon-only" name="add-outline"></ion-icon>
      </ion-button>
    </div>

    <div class="addresses" *ngFor="let walletAddress of address.walletsAddresses">
      <ion-card>
        <ion-item lines="none" class="border-bottom">
          <ion-img
            [src]=" walletAddress.type === 'BTC'? 'assets/img/bitcoin.png' : walletAddress.type === 'NEM'? 'assets/img/nem-icon.png' : 'assets/img/ethereum.png'"
          ></ion-img>
          <ion-text class="wallet-name">{{ walletAddress.type === 'BTC' ? 'BTC' : 'NEM'}} </ion-text>
          <ion-note>{{walletAddress.description && walletAddress.description}}</ion-note>

          <ion-button fill="clear" slot="end" (click)="onShareAddress(walletAddress.address)">
            <ion-icon name="share-social" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-item>

        <ion-card-content (click)="onCopyAddress(walletAddress.address)"> {{walletAddress.address}} </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>
